<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard - Royal Access</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div class="glass-panel">
        <header>
            <!-- User Icon -->
            <svg class="icon" style="width: 48px; height: 48px; fill: #ffd700; margin-bottom: 10px;"
                viewBox="0 0 24 24">
                <path
                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
            </svg>
            <h1>Employee Dashboard</h1>
            <p class="subtitle">Welcome, <span id="userGreeting"
                    style="color: #ffd700; font-weight: bold;">Employee</span>! This is your secure portal.</p>
            <nav id="navBar"></nav>
        </header>

        <section class="dashboard-section">
            <h2>
                <svg class="icon" viewBox="0 0 24 24">
                    <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" />
                </svg>
                Your Profile Data
            </h2>
            <div class="info-box">
                <p>Access your personal profile information below. This content is available to all authenticated users.
                </p>
                <br>
                <button onclick="fetchProfileData()" class="action-btn">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path
                            d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z" />
                    </svg>
                    Fetch My Profile (API Test)
                </button>
                <pre id="profileStatus" class="status-message"></pre>
            </div>
        </section>

        <div style="text-align: center;">
            <a href="#" onclick="logout()" class="logout-link">
                Log Out
            </a>
        </div>
    </div>

    <script src="js/navigation.js"></script>
    <script src="js/auth.js"></script>
    <script>
        // Run authentication check and profile fetch on page load
        document.addEventListener('DOMContentLoaded', () => {
            checkAuthAndRedirect();
            fetchProfileData();
        });
    </script>

</body>

</html>